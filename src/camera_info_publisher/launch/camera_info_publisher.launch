<?xml version="1.0"?>
<launch>
    <!-- yaml camera info publisher -->
    <arg name="camera_info_topic00" default="/camera_info_00" />
    <arg name="camera_info_topic01" default="/camera_info_01" />
    <arg name="file00" default="$(find camera_info_publisher)/config/gmsl00_calibration.yml" />
    <arg name="file01" default="$(find camera_info_publisher)/config/gmsl01_calibration.yml" />

    <node pkg="camera_info_publisher" type="yaml_to_camera_info_publisher.py" name="camera_info_publisher_00" output="screen">
      <param name="camera_calibration_yaml" value="$(arg file00)" /> 
      <param name="camera_info_topic" value="$(arg camera_info_topic00)" />
    </node>
    
	<node pkg="camera_info_publisher" type="yaml_to_camera_info_publisher.py" name="camera_info_publisher_01" output="screen">
      <param name="camera_calibration_yaml" value="$(arg file01)" /> 
      <param name="camera_info_topic" value="$(arg camera_info_topic01)" />
    </node>

    <!-- lidar(parent, source) to camera1(child, target) tf static transform (move lidar to camera)-->
    <arg name="parent_frame_id" default="velodyne"/>
    <arg name="period_in_ms" default="10"/>

    <arg name="x00" default="0.9"/>
  	<arg name="y00" default="0.3"/>
  	<arg name="z00" default="-0.1"/>
  	<arg name="yaw00" default="-1.5708"/>
  	<arg name="pitch00" default="0.0"/>
  	<arg name="roll00" default="-1.5708"/>
  	<arg name="child_frame_id00" default="gmsl_0_0"/> <!-- make sure gmsl driver publishes this frame id-->

    <arg name="x01" default="0.9"/>
  	<arg name="y01" default="0.3"/>
  	<arg name="z01" default="-0.1"/>
  	<arg name="yaw01" default="-1.5708"/>
  	<arg name="pitch01" default="0.0"/>
  	<arg name="roll01" default="-1.5708"/>
  	<arg name="child_frame_id01" default="gmsl_0_1"/> <!-- make sure gmsl driver publishes this frame id-->
  	

    <!-- publishing fix transformation -->
    <node pkg="tf" type="static_transform_publisher" name="velodyne_to_gmsl00" args="$(arg x00) $(arg y00) $(arg z00) $(arg yaw00) $(arg pitch00) $(arg roll00) $(arg parent_frame_id) $(arg child_frame_id00) $(arg period_in_ms)"/>
	<node pkg="tf" type="static_transform_publisher" name="velodyne_to_gmsl01" args="$(arg x01) $(arg y01) $(arg z01) $(arg yaw01) $(arg pitch01) $(arg roll01) $(arg parent_frame_id) $(arg child_frame_id01) $(arg period_in_ms)"/>
</launch>


